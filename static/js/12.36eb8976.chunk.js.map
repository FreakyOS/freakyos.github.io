{"version":3,"sources":["components/Device.js"],"names":["Device","props","state","details","changelog","device","codename","isOpen","toggle","bind","datetime","this","setState","Date","toLocaleDateString","bytes","decimals","k","dm","sizes","i","Math","floor","log","parseFloat","pow","toFixed","axios","get","then","response","data","catch","fluid","className","onClick","src","image","alt","name","centered","borderless","brand","maintainer","version","formatBytes","size","href","url","target","color","rel","Component"],"mappings":"gSAIqBA,E,kDAEnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACXC,QAAS,GACTC,UAAU,qEAAD,OAAuE,EAAKH,MAAMI,OAAOC,SAAzF,YAAqG,EAAKL,MAAMI,OAAOC,SAAvH,QACTC,QAAQ,GAGV,EAAKC,OAAS,EAAKA,OAAOC,KAAZ,gBACd,EAAKC,SAAW,EAAKA,SAASD,KAAd,gBATC,E,qDAajBE,KAAKC,UAAS,SAAAV,GAAK,MAAK,CACtBK,QAASL,EAAMK,a,iCAKjB,OAAO,IAAIM,KAAiC,IAA5BF,KAAKT,MAAMC,QAAQO,UAAeI,mBAAmB,W,kCAG3DC,GAAsB,IAAfC,EAAc,uDAAH,EAC5B,GAAc,IAAVD,EAAa,MAAO,UAExB,IAAME,EAAI,KACJC,EAAKF,EAAW,EAAI,EAAIA,EACxBG,EAAQ,CAAC,QAAS,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAE5DC,EAAIC,KAAKC,MAAMD,KAAKE,IAAIR,GAASM,KAAKE,IAAIN,IAEhD,OAAOO,YAAYT,EAAQM,KAAKI,IAAIR,EAAGG,IAAIM,QAAQR,IAAO,IAAMC,EAAMC,K,0CAGnD,IAAD,OAClBO,IACGC,IADH,4EAEyEjB,KAAKV,MAAMI,OAAOC,SAF3F,YAEuGK,KAAKV,MAAMI,OAAOC,SAFzH,UAIGuB,MAAK,SAACC,GACL,EAAKlB,SAAS,CACZT,QAAS2B,EAASC,KAAKD,SAAS,QAGnCE,OAAM,WACL,EAAKpB,SAAS,CACZT,QAAS,U,+BAKf,OACE,kBAAC,IAAD,CAAW8B,OAAK,EAACC,UAAU,mBACzB,yBAAKA,UAAU,cAAcC,QAASxB,KAAKH,QACzC,yBAAK4B,IAAKzB,KAAKV,MAAMI,OAAOgC,MAAOC,IAAK3B,KAAKV,MAAMI,OAAOC,WAC1D,yBAAK4B,UAAU,sBAAsBvB,KAAKV,MAAMI,OAAOkC,MACvD,kBAAC,IAAD,CACEhC,OAAQI,KAAKT,MAAMK,OACnBC,OAAQG,KAAKH,OACbgC,UAAQ,GAER,kBAAC,IAAD,CAAaN,UAAU,eAAe1B,OAAQG,KAAKH,QAChDG,KAAKV,MAAMI,OAAOkC,MAErB,kBAAC,IAAD,CAAWL,UAAU,gBACnB,kBAAC,IAAD,CAAOA,UAAU,eAAeO,YAAY,GAC1C,+BACE,4BACE,4BACE,qCAEF,4BAAK9B,KAAKV,MAAMI,OAAOqC,QAEzB,4BACE,4BACE,wCAEF,4BAAK/B,KAAKV,MAAMI,OAAOC,WAEzB,4BACE,4BACE,0CAEF,4BAAKK,KAAKV,MAAMI,OAAOsC,aAGzB,4BACE,4BACE,2CAEF,4BAAKhC,KAAKT,MAAMC,QAAQyC,UAE1B,4BACE,4BACE,wCAEF,4BAAKjC,KAAKkC,YAAYlC,KAAKT,MAAMC,QAAQ2C,QAE3C,4BACE,4BACE,0CAEF,4BAAKnC,KAAKD,gBAKlB,kBAAC,IAAD,CAAawB,UAAU,gBACrB,kBAAC,IAAD,CACEa,KAAMpC,KAAKT,MAAMC,QAAQ6C,IACzBC,OAAO,SACPC,MAAM,UACNC,IAAI,uBAJN,YAQA,kBAAC,IAAD,CACEJ,KAAMpC,KAAKT,MAAME,UACjB6C,OAAO,SACPC,MAAM,OACNC,IAAI,uBAJN,qB,GAtHsBC","file":"static/js/12.36eb8976.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { ModalBody, ModalFooter, ModalHeader, Button, Modal, Table, Container } from 'reactstrap';\n\nexport default class Device extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      details: {},\n      changelog: `https://raw.githubusercontent.com/FreakyOS/ota_config/still_alive/${this.props.device.codename}/${this.props.device.codename}.txt`,\n      isOpen: false,\n    }\n\n    this.toggle = this.toggle.bind(this);\n    this.datetime = this.datetime.bind(this);\n  }\n\n  toggle() {\n    this.setState(state => ({\n      isOpen: !state.isOpen\n    }));\n  }\n\n  datetime() {\n    return new Date(this.state.details.datetime*1000).toLocaleDateString('en-US');\n  }\n\n  formatBytes(bytes, decimals = 2) {\n    if (bytes === 0) return '0 Bytes';\n\n    const k = 1024;\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n  }\n\n  componentDidMount() {\n    axios\n      .get(\n        `https://raw.githubusercontent.com/FreakyOS/ota_config/still_alive/${this.props.device.codename}/${this.props.device.codename}.json`\n      )\n      .then((response) => {\n        this.setState({\n          details: response.data.response[0],\n        });\n      })\n      .catch(() => {\n        this.setState({\n          details: {},\n        });\n      });\n  }\n  render() {\n    return (\n      <Container fluid className=\"h-100 w-100 p-1\">\n        <div className=\"freaky-card\" onClick={this.toggle}>\n          <img src={this.props.device.image} alt={this.props.device.codename} />\n          <div className=\"freaky-card-footer\">{this.props.device.name}</div>\n          <Modal\n            isOpen={this.state.isOpen}\n            toggle={this.toggle}\n            centered\n          >\n            <ModalHeader className=\"freaky-modal\" toggle={this.toggle}>\n              {this.props.device.name}\n            </ModalHeader>\n            <ModalBody className=\"freaky-modal\">\n              <Table className=\"freaky-modal\" borderless={true}>\n                <tbody>\n                  <tr>\n                    <td>\n                      <b>Brand</b>\n                    </td>\n                    <td>{this.props.device.brand}</td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <b>Codename</b>\n                    </td>\n                    <td>{this.props.device.codename}</td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <b>Maintainer</b>\n                    </td>\n                    <td>{this.props.device.maintainer}</td>\n                  </tr>\n\n                  <tr>\n                    <td>\n                      <b>Rom Version</b>\n                    </td>\n                    <td>{this.state.details.version}</td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <b>Rom Size</b>\n                    </td>\n                    <td>{this.formatBytes(this.state.details.size)}</td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <b>Build Date</b>\n                    </td>\n                    <td>{this.datetime()}</td>\n                  </tr>\n                </tbody>\n              </Table>\n            </ModalBody>\n            <ModalFooter className=\"freaky-modal\">\n              <Button\n                href={this.state.details.url}\n                target=\"_blank\"\n                color=\"primary\"\n                rel=\"noopener noreferrer\"\n              >\n                Download\n              </Button>\n              <Button\n                href={this.state.changelog}\n                target=\"_blank\"\n                color=\"info\"\n                rel=\"noopener noreferrer\"\n              >\n                Changelog\n              </Button>\n            </ModalFooter>\n          </Modal>\n        </div>\n      </Container>\n    );\n  }\n}\n\n\n"],"sourceRoot":""}